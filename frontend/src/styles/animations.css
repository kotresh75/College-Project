/* =========================================
   Global Interactive Animation System
   Performance-optimized CSS animations
   ========================================= */

/* ===================
   PAGE TRANSITIONS
   =================== */
.page-transition {
    animation: pageEnter 0.4s cubic-bezier(0.22, 1, 0.36, 1) both;
}

@keyframes pageEnter {
    from {
        opacity: 0;
        transform: translateY(12px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ===================
   STAGGER FADE-IN
   Cards, rows, and list items animate in sequence
   Usage: Add class "stagger-children" to parent
   =================== */
.stagger-children>* {
    /* Remove base opacity: 0 and use fill-mode: both to handle pre-animation state */
    animation: staggerFadeIn 0.45s cubic-bezier(0.22, 1, 0.36, 1) both;
}

/* Stagger delays for first 12 children */
.stagger-children>*:nth-child(1) {
    animation-delay: 0.03s;
}

.stagger-children>*:nth-child(2) {
    animation-delay: 0.06s;
}

.stagger-children>*:nth-child(3) {
    animation-delay: 0.09s;
}

.stagger-children>*:nth-child(4) {
    animation-delay: 0.12s;
}

.stagger-children>*:nth-child(5) {
    animation-delay: 0.15s;
}

.stagger-children>*:nth-child(6) {
    animation-delay: 0.18s;
}

.stagger-children>*:nth-child(7) {
    animation-delay: 0.21s;
}

.stagger-children>*:nth-child(8) {
    animation-delay: 0.24s;
}

.stagger-children>*:nth-child(9) {
    animation-delay: 0.27s;
}

.stagger-children>*:nth-child(10) {
    animation-delay: 0.30s;
}

.stagger-children>*:nth-child(11) {
    animation-delay: 0.33s;
}

.stagger-children>*:nth-child(12) {
    animation-delay: 0.36s;
}

@keyframes staggerFadeIn {
    from {
        opacity: 0;
        transform: translateY(16px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ===================
   HOVER LIFT EFFECT
   Cards lift and grow shadow on hover
   =================== */
.hover-lift {
    transition: transform 0.25s cubic-bezier(0.22, 1, 0.36, 1),
        box-shadow 0.25s cubic-bezier(0.22, 1, 0.36, 1);
    will-change: transform;
}

.hover-lift:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 28px -6px rgba(0, 0, 0, 0.15),
        0 4px 10px -4px rgba(0, 0, 0, 0.08);
}

[data-theme='dark'] .hover-lift:hover {
    box-shadow: 0 12px 28px -6px rgba(0, 0, 0, 0.35),
        0 4px 10px -4px rgba(0, 0, 0, 0.2);
}

/* Subtle variant for smaller elements */
.hover-lift-sm {
    transition: transform 0.2s cubic-bezier(0.22, 1, 0.36, 1),
        box-shadow 0.2s cubic-bezier(0.22, 1, 0.36, 1);
    will-change: transform;
}

.hover-lift-sm:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px -4px rgba(0, 0, 0, 0.12);
}

/* ===================
   BUTTON PRESS EFFECT
   Subtle scale down on click
   =================== */
.press-effect {
    transition: transform 0.15s cubic-bezier(0.22, 1, 0.36, 1);
}

.press-effect:active {
    transform: scale(0.96);
}

/* ===================
   INPUT FOCUS GLOW
   Subtle pulse on input focus
   =================== */
.focus-glow:focus {
    animation: focusGlow 0.3s ease forwards;
}

@keyframes focusGlow {
    from {
        box-shadow: 0 0 0 0px var(--focus-ring);
    }

    to {
        box-shadow: 0 0 0 3px var(--focus-ring);
    }
}

/* ===================
   SHIMMER / SKELETON
   Loading placeholder shimmer
   =================== */
.shimmer {
    background: linear-gradient(90deg,
            var(--hover-overlay) 25%,
            var(--active-overlay) 50%,
            var(--hover-overlay) 75%);
    background-size: 200% 100%;
    animation: shimmer 1.5s ease infinite;
    border-radius: var(--radius-md);
}

@keyframes shimmer {
    0% {
        background-position: 200% 0;
    }

    100% {
        background-position: -200% 0;
    }
}

/* ===================
   SLIDE-IN VARIANTS
   =================== */
.slide-in-left {
    animation: slideInLeft 0.35s cubic-bezier(0.22, 1, 0.36, 1) both;
}

.slide-in-right {
    animation: slideInRight 0.35s cubic-bezier(0.22, 1, 0.36, 1) both;
}

.slide-in-up {
    animation: slideInUp 0.35s cubic-bezier(0.22, 1, 0.36, 1) both;
}

@keyframes slideInLeft {
    from {
        opacity: 0;
        transform: translateX(-24px);
    }

    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes slideInRight {
    from {
        opacity: 0;
        transform: translateX(24px);
    }

    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes slideInUp {
    from {
        opacity: 0;
        transform: translateY(24px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ===================
   COUNTER / NUMBER POP
   For stat cards
   =================== */
.number-pop {
    animation: numberPop 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) both;
}

@keyframes numberPop {
    from {
        opacity: 0;
        transform: scale(0.6);
    }

    60% {
        transform: scale(1.08);
    }

    to {
        opacity: 1;
        transform: scale(1);
    }
}

/* ===================
   GLOW PULSE
   Subtle radial glow
   =================== */
.glow-pulse {
    animation: glowPulse 2s ease-in-out infinite;
}

@keyframes glowPulse {

    0%,
    100% {
        box-shadow: 0 0 4px 0 var(--focus-ring);
    }

    50% {
        box-shadow: 0 0 16px 2px var(--focus-ring);
    }
}

/* ===================
   SMOOTH COUNTERS
   Used with dashboard stats
   =================== */
.count-up {
    animation: countFadeIn 0.6s cubic-bezier(0.22, 1, 0.36, 1) both;
}

@keyframes countFadeIn {
    from {
        opacity: 0;
        filter: blur(4px);
        transform: translateY(8px);
    }

    to {
        opacity: 1;
        filter: blur(0);
        transform: translateY(0);
    }
}

/* ===================
   TABLE ROW HOVER
   Smooth bg transition for table rows
   =================== */
.row-hover-effect {
    transition: background-color 0.2s ease,
        box-shadow 0.2s ease;
}

.row-hover-effect:hover {
    background-color: var(--hover-overlay) !important;
}

/* ===================
   TOOLTIP FADE
   =================== */
.tooltip-fade {
    animation: tooltipEnter 0.15s ease both;
}

@keyframes tooltipEnter {
    from {
        opacity: 0;
        transform: translateY(4px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ===================
   SCROLL REVEAL
   Elements fade in when scrolled into view
   Triggered by IntersectionObserver in JS
   =================== */
.reveal {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.5s cubic-bezier(0.22, 1, 0.36, 1),
        transform 0.5s cubic-bezier(0.22, 1, 0.36, 1);
}

.reveal.revealed {
    opacity: 1;
    transform: translateY(0);
}

/* ===================
   REDUCED MOTION
   Disable all animations for accessibility
   =================== */
@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }

    .page-transition,
    .stagger-children>*,
    .hover-lift,
    .hover-lift-sm,
    .reveal {
        animation: none !important;
        transition: none !important;
        opacity: 1 !important;
        transform: none !important;
    }
}